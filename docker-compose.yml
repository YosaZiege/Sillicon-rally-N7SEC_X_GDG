services:
  web:
    build:
      context: .
      args:
        # Provide a default value for local development.
        # For production, this should be set in your CI/CD environment.
        - SECRET_COOKIE_PASSWORD=your-super-secret-password-for-iron-session
    ports:
      - "9002:9002"
    volumes:
      # Mount the data directory to persist team and leaderboard data
      # across container restarts during local development.
      - ./src/data:/app/src/data
    # Use env_file to load environment variables from .env.local
    # This is a good practice for managing secrets.
    env_file:
      - .env.local
